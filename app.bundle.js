!function(e){function t(t){for(var a,l,o=t[0],c=t[1],s=t[2],u=0,f=[];u<o.length;u++)l=o[u],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&f.push(r[l][0]),r[l]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(d&&d(t);f.length;)f.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(i.splice(t--,1),e=l(l.s=n[0]))}return e}var a={},r={0:0},i=[];function l(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=a,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="D:\\self\\jsDiffWeb\\dist";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var d=c;i.push([128,1]),n()}({128:function(e,t,n){e.exports=n(343)},139:function(e,t,n){},33:function(e,t,n){e.exports={charAdd:"index__charAdd--2u9EA",charRemoved:"index__charRemoved--2NBzi",wrapper:"index__wrapper--2L7IR",inputWrapper:"index__inputWrapper--2K2KA",input:"index__input--2qmtU",funWrapper:"index__funWrapper--19VTK",result:"index__result--3p5uV",preWrap:"index__preWrap--aXHIE",charPreWrap:"index__charPreWrap--31WOt"}},343:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(18),l=n.n(i),o=(n(133),n(59)),c=n.n(o),s=n(23),d=n.n(s),u=n(24),f=n.n(u),p=n(17),h=n.n(p),v=n(25),m=n.n(v),g=n(26),y=n.n(g),_=n(22),E=n.n(_),C=n(5),x=n.n(C),P=(n(89),n(45)),b=n.n(P),k=(n(139),n(2)),N=n.n(k),w=(n(140),n(71)),R=n.n(w),S=n(8),B=n.n(S);function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=E()(e);if(t){var r=E()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return y()(this,n)}}var A=b.a.Content,z=0,T=1,L=function(e){m()(n,e);var t=W(n);function n(){var e;d()(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i)),x()(h()(e),"state",{lineGroup:[],showType:z}),x()(h()(e),"flashContent",(function(t){if("string"!=typeof(t||e.props.diffArr)){var n=(t||e.props.diffArr).map((function(t,n,a){var r,i,l,o,c;e.props.isFile?(i="+"===t[0],l="-"===t[0],o=t.slice(1),c=1):(i=t.added,l=t.removed,o=t.value,c=t.count);var s,d,u,f=(null===(r=o)||void 0===r?void 0:r.split("\n").filter((function(e){return e})))||[],p=(i?"+":l&&"-")||" ";if(" "!==p)d=[],u=[],s=f;else{var h=f.length;h<=10?(d=[],u=[],s=f):(s=f.slice(0,5),d=f.slice(5,h-5),u=f.slice(h-5))}return{type:p,count:c,content:{hidden:d,head:s,tail:u}}})),a=1,r=1;n.forEach((function(e){var t=e.type,n=e.count;e.leftPos=a,e.rightPos=r,a+="+"===t?0:n,r+="-"===t?0:n})),e.setState({lineGroup:n})}})),x()(h()(e),"openBlock",(function(t,n){var a=e.state.lineGroup.slice(),r=a[n],i=r.content,l=i.head,o=i.tail,c=i.hidden;if("head"===t)r.content.head=l.concat(c.slice(0,5)),r.content.hidden=c.slice(5);else if("tail"===t){var s=c.length;r.content.tail=c.slice(s-5).concat(o),r.content.hidden=c.slice(0,s-5)}else r.content.head=l.concat(c),r.content.hidden=[];a[n]=r,e.setState({lineGroup:a})})),x()(h()(e),"getHiddenBtn",(function(t,n){var a=t.length<10;return r.a.createElement("div",{key:"collapse",className:B.a.cutWrapper},r.a.createElement("div",{className:N()(B.a.colLeft,e.isSplit?B.a.splitWidth:"")},a?r.a.createElement("div",{className:B.a.arrow,onClick:e.openBlock.bind(h()(e),"all",n)},r.a.createElement("svg",{className:B.a.octicon,viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16","aria-hidden":"true"},r.a.createElement("path",{fillRule:"evenodd",d:"M8.177.677l2.896 2.896a.25.25 0 01-.177.427H8.75v1.25a.75.75 0 01-1.5 0V4H5.104a.25.25 0 01-.177-.427L7.823.677a.25.25 0 01.354 0zM7.25 10.75a.75.75 0 011.5 0V12h2.146a.25.25 0 01.177.427l-2.896 2.896a.25.25 0 01-.354 0l-2.896-2.896A.25.25 0 015.104 12H7.25v-1.25zm-5-2a.75.75 0 000-1.5h-.5a.75.75 0 000 1.5h.5zM6 8a.75.75 0 01-.75.75h-.5a.75.75 0 010-1.5h.5A.75.75 0 016 8zm2.25.75a.75.75 0 000-1.5h-.5a.75.75 0 000 1.5h.5zM12 8a.75.75 0 01-.75.75h-.5a.75.75 0 010-1.5h.5A.75.75 0 0112 8zm2.25.75a.75.75 0 000-1.5h-.5a.75.75 0 000 1.5h.5z"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:B.a.arrow,onClick:e.openBlock.bind(h()(e),"head",n)},r.a.createElement("svg",{className:B.a.octicon,viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16","aria-hidden":"true"},r.a.createElement("path",{fillRule:"evenodd",d:"M8.177 14.323l2.896-2.896a.25.25 0 00-.177-.427H8.75V7.764a.75.75 0 10-1.5 0V11H5.104a.25.25 0 00-.177.427l2.896 2.896a.25.25 0 00.354 0zM2.25 5a.75.75 0 000-1.5h-.5a.75.75 0 000 1.5h.5zM6 4.25a.75.75 0 01-.75.75h-.5a.75.75 0 010-1.5h.5a.75.75 0 01.75.75zM8.25 5a.75.75 0 000-1.5h-.5a.75.75 0 000 1.5h.5zM12 4.25a.75.75 0 01-.75.75h-.5a.75.75 0 010-1.5h.5a.75.75 0 01.75.75zm2.25.75a.75.75 0 000-1.5h-.5a.75.75 0 000 1.5h.5z"}))),r.a.createElement("div",{className:B.a.arrow,onClick:e.openBlock.bind(h()(e),"tail",n)},r.a.createElement("svg",{className:B.a.octicon,viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16","aria-hidden":"true"},r.a.createElement("path",{fillRule:"evenodd",d:"M7.823 1.677L4.927 4.573A.25.25 0 005.104 5H7.25v3.236a.75.75 0 101.5 0V5h2.146a.25.25 0 00.177-.427L8.177 1.677a.25.25 0 00-.354 0zM13.75 11a.75.75 0 000 1.5h.5a.75.75 0 000-1.5h-.5zm-3.75.75a.75.75 0 01.75-.75h.5a.75.75 0 010 1.5h-.5a.75.75 0 01-.75-.75zM7.75 11a.75.75 0 000 1.5h.5a.75.75 0 000-1.5h-.5zM4 11.75a.75.75 0 01.75-.75h.5a.75.75 0 010 1.5h-.5a.75.75 0 01-.75-.75zM1.75 11a.75.75 0 000 1.5h.5a.75.75 0 000-1.5h-.5z"}))))),r.a.createElement("div",{className:N()(B.a.collRight,e.isSplit?B.a.collRightSplit:"")},r.a.createElement("div",{className:N()(B.a.colRContent,a?"":B.a.cRHeight)},"当前隐藏内容:".concat(t.length,"行"))))})),x()(h()(e),"getLineNum",(function(e){return("     "+e).slice(-5)})),x()(h()(e),"paintCode",(function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=t.type,i=t.content,l=i.head,o=i.tail,c=i.hidden,s=t.leftPos,d=t.rightPos,u=" "===a,f=N()(B.a.normal,"+"===a?B.a.add:"","-"===a?B.a.removed:""),p="     ";return(n?l:o).map((function(t,i){var o="";if(u){var h=n?0:l.length+c.length;o=(p+(s+h+i)).slice(-5)+(p+(d+h+i)).slice(-5)}else o="-"===a?e.getLineNum(s+i)+p:p+e.getLineNum(d+i);return r.a.createElement("div",{key:(n?"h-":"t-")+i,className:f},r.a.createElement("pre",{className:N()(B.a.pre,B.a.line)},o),r.a.createElement("div",{className:B.a.outerPre},r.a.createElement("div",{className:B.a.splitCon},r.a.createElement("div",{className:B.a.spanWidth}," "+a+" "),e.getPaddingContent(t,!0))))}))})),x()(h()(e),"getUnifiedRenderContent",(function(){return e.state.lineGroup.map((function(t,n){var a=t.type,i=t.content.hidden,l=" "===a;return r.a.createElement("div",{key:n},e.paintCode(t),i.length&&l&&e.getHiddenBtn(i,n)||null,e.paintCode(t,!1))}))})),x()(h()(e),"getLNPadding",(function(e){var t=("     "+e).slice(-5);return r.a.createElement("div",{className:N()(B.a.splitLN)},t)})),x()(h()(e),"getPaddingContent",(function(e){return r.a.createElement("div",{className:N()(B.a.splitCon)},e)})),x()(h()(e),"getSplitCode",(function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=(t.type,t.content),i=a.head,l=a.hidden,o=a.tail,c=t.leftPos,s=t.rightPos;return(n?i:o).map((function(t,a){var o=n?0:i.length+l.length;return r.a.createElement("div",{key:(n?"h-":"t-")+a},r.a.createElement("div",{className:N()(B.a.iBlock,B.a.lBorder)},e.getLNPadding(c+o+a),e.getPaddingContent("    "+t)),r.a.createElement("div",{className:B.a.iBlock},e.getLNPadding(s+o+a),e.getPaddingContent("    "+t)))}))})),x()(h()(e),"getCombinePart",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.type,i=t.content,l=t.leftPos,o=(t.rightPos,n.type),c=n.content,s=(n.leftPos,n.rightPos),d=(null==i?void 0:i.head)||[],u=(null==c?void 0:c.head)||[],f="+"===a?B.a.add:B.a.removed,p="+"===o?B.a.add:B.a.removed;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:N()(B.a.iBlock,B.a.lBorder)},d.map((function(t,n){return r.a.createElement("div",{className:N()(B.a.prBlock,f),key:n},e.getLNPadding(l+n),e.getPaddingContent("-  "+t))}))),r.a.createElement("div",{className:N()(B.a.iBlock,d.length?"":B.a.rBorder)},u.map((function(t,n){return r.a.createElement("div",{className:N()(B.a.prBlock,p),key:n},e.getLNPadding(s+n),e.getPaddingContent("+  "+t))}))))})),x()(h()(e),"getSplitContent",(function(){for(var t=e.state.lineGroup.length,n=[],a=0;a<t;a++){var i=e.state.lineGroup[a],l=i.type,o=i.content.hidden;if(" "===l)n.push(r.a.createElement("div",{key:a},e.getSplitCode(i),o.length&&e.getHiddenBtn(o,a)||null,e.getSplitCode(i,!1)));else if("-"===l){var c=e.state.lineGroup[a+1]||{content:{}},s="+"===c.type;n.push(r.a.createElement("div",{key:a},e.getCombinePart(i,s?c:{}))),s&&(a+=1)}else"+"===l&&n.push(r.a.createElement("div",{key:a},e.getCombinePart({},i)))}return r.a.createElement("div",null,n)})),x()(h()(e),"handleShowTypeChange",(function(t){e.setState({showType:t.target.value})})),e}return f()(n,[{key:"componentDidMount",value:function(){this.flashContent()}},{key:"componentWillReceiveProps",value:function(e){this.flashContent(e.diffArr)}},{key:"render",value:function(){var e=this.state.showType;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:B.a.radioGroup},r.a.createElement(R.a.Group,{value:e,size:"small",onChange:this.handleShowTypeChange},r.a.createElement(R.a.Button,{value:z},"Unified"),r.a.createElement(R.a.Button,{value:T},"Split"))),r.a.createElement(A,{className:B.a.content},r.a.createElement("div",{className:B.a.color},this.isSplit?this.getSplitContent():this.getUnifiedRenderContent())))}},{key:"isSplit",get:function(){return this.state.showType===T}}]),n}(r.a.Component),M=(n(104),n(85)),D=n.n(M),F=(n(214),n(86)),H=n.n(F),O=n(9),j=n.n(O),V=n(35),G=n.n(V),I=n(125),U=n.n(I),K=(n(218),n(127)),J=n.n(K),X=(n(220),n(126)),q=n.n(X),Y=n(33),Q=n.n(Y);function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=E()(e);if(t){var r=E()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return y()(this,n)}}var $=n(105),ee=q.a.Item,te=J.a.TextArea,ne={labelCol:{span:4},wrapperCol:{span:20}},ae={labelCol:{span:10},wrapperCol:{span:10}},re=["diffChars","diffWords","diffWordsWithSpace"],ie=["diffLines","diffTrimmedLines","diffSentences","structuredPatch","createTwoFilesPatch"],le=["structuredPatch","createTwoFilesPatch"],oe=function(e){m()(n,e);var t=Z(n);function n(){var e;d()(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i)),x()(h()(e),"state",{diffArr:[],method:"words"===e.props.type?"diffChars":"diffLines",value1:"words"===e.props.type?"guanlanluditie":"广兰路地铁\n老厉害了",value2:"words"===e.props.type?"smartguanlanluditieYeah":"广兰路地铁\n一般般"}),x()(h()(e),"getCharDiff",(function(){var t={add:Q.a.charAdd,removed:Q.a.charRemoved};return r.a.createElement("div",{className:Q.a.result},"比较结果:",e.state.diffArr.map((function(e,n){var a=e.value,i=e.added,l=e.removed,o=i?"add":l?"removed":"";return r.a.createElement("span",{key:n,className:N()(t[o],Q.a.charPreWrap)},a)})))})),x()(h()(e),"changInput",(function(t,n){e.setState(x()({},0===t?"value1":"value2",n.target.value))})),x()(h()(e),"handleSelectChange",(function(t){e.setState({method:t})})),x()(h()(e),"actDiff",(function(){var t,n=e.state,a=n.value1,r=n.value2,i=n.method;t=e.isFile?"structuredPatch"===i?$[i]("value1","value2",a,r).hunks[0].lines:$[i]("value1","value2",a,r):$[i](a,r),e.setState({diffArr:t})})),x()(h()(e),"changeFile",function(){var t=U()(G.a.mark((function t(n,a){var r,i;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.file,t.next=3,r.originFileObj.text();case 3:i=t.sent,e.setState(x()({},0===n?"value1":"value2",i)),console.log(i);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),e}return f()(n,[{key:"componentDidMount",value:function(){this.actDiff()}},{key:"render",value:function(){var e=this.state,t=e.method,n=e.diffArr,a=e.value1,i=e.value2,l=this.isWordType?re:ie;return r.a.createElement("div",{className:Q.a.wrapper},r.a.createElement("div",{className:Q.a.inputWrapper},r.a.createElement(ee,j()({},ne,{label:"输入1",className:Q.a.input}),r.a.createElement(te,{defaultValue:a,onChange:this.changInput.bind(null,0)})),r.a.createElement(ee,j()({},ne,{label:"输入2",className:Q.a.input}),r.a.createElement(te,{defaultValue:i,onChange:this.changInput.bind(null,1)}))),r.a.createElement("div",{className:Q.a.funWrapper},r.a.createElement(ee,j()({},ae,{label:"比较方法"}),r.a.createElement(H.a,{defaultValue:t,style:{width:220},onChange:this.handleSelectChange},l.map((function(e,t){return r.a.createElement(H.a.Option,{key:t,value:e},e)})))),r.a.createElement(D.a,{type:"primary",onClick:this.actDiff},"比较")),this.isDirectPatch?r.a.createElement("div",{className:Q.a.preWrap},"string"==typeof n?n:""):this.isWordType?this.getCharDiff():r.a.createElement(L,{isFile:this.isFile,diffArr:n}))}},{key:"isWordType",get:function(){return"words"===this.props.type}},{key:"isFile",get:function(){return le.includes(this.state.method)}},{key:"isDirectPatch",get:function(){return"createTwoFilesPatch"===this.state.method}}]),n}(r.a.Component),ce={1111:[1,2,4,5,6],content:{abc:"content"},vvv:{csdf:"ccvvfv"},1113:[1,2,4,5,6],"1111a":[1,2,4,522222,6e3],"1111b":[1,2,4,522222,6e3],1114:[1,2,4,5,6],1116:[1,2,4,5,6],conten2t:{abc:"content"},vvv3:{csdf:"ccvvfv"}},se={1111:[1,2,4,5,7],content:{abc:"content"},vvv:{csdf:"ccvvfv"},1113:[1,2,4,5,6],"1111a":[1,2,4,522222,6e3],"1111b":[1,2,4,522222,6e3],1114:[1,2,4,5,6],1116:[1,2,4,4,6],conten2t:{abc:"content"},vvv3:{csdf:"ccvvfv"}};function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=E()(e);if(t){var r=E()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return y()(this,n)}}var ue=n(105),fe=(b.a.Header,b.a.Content,b.a.Footer),pe="0",he="1",ve="2",me=function(e){m()(n,e);var t=de(n);function n(){var e;d()(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i)),x()(h()(e),"state",{currentTab:he}),x()(h()(e),"getContent",(function(){var t;return(t={},x()(t,pe,(function(){var e=ue.diffJson(ce,se);return r.a.createElement(L,{diffArr:e})})),x()(t,he,(function(){return r.a.createElement(oe,{type:"words"})})),x()(t,ve,(function(){return r.a.createElement("div",null,r.a.createElement(oe,{type:"lines"}))})),t)[e.state.currentTab]()})),x()(h()(e),"navChange",(function(t){e.setState({currentTab:t.key})})),e}return f()(n,[{key:"render",value:function(){return r.a.createElement(b.a,null,r.a.createElement(c.a,{onClick:this.navChange,mode:"horizontal",defaultSelectedKeys:[this.state.currentTab]},r.a.createElement(c.a.Item,{key:pe},"json diff"),r.a.createElement(c.a.Item,{key:he},"单词diff"),r.a.createElement(c.a.Item,{key:ve},"行内容diff")),this.getContent(),r.a.createElement(fe,{style:{textAlign:"center"}},"Produced by 广兰路地铁"))}}]),n}(r.a.Component),ge=document.getElementById("main");l.a.render(r.a.createElement(me,null),ge)},8:function(e,t,n){e.exports={color:"index__color--2ojbV",normal:"index__normal--3xN0k",add:"index__add--3fp2b",removed:"index__removed--18dBy",pre:"index__pre--3eDFa",button:"index__button--2J6G4",content:"index__content--3DNR8",outerPre:"index__outerPre--1Pone",spanWidth:"index__spanWidth--125bf",innerPre:"index__innerPre--1_Bab",line:"index__line--1sUEl",colLeft:"index__colLeft--2F2iS",splitWidth:"index__splitWidth--jvhC7",collRight:"index__collRight--2OaKg",collRightSplit:"index__collRightSplit--2H9r-",colRContent:"index__colRContent--3gXOP",octicon:"index__octicon--2VVw1",arrow:"index__arrow--1FWUj",cRHeight:"index__cRHeight--1pHdx",sPart:"index__sPart--1V1XW",iBlock:"index__iBlock--3k0eW",prBlock:"index__prBlock--N52o_",splitLN:"index__splitLN--2ci2A",splitCon:"index__splitCon--15tpv",filled:"index__filled--23P9T",radioGroup:"index__radioGroup--2E-ih",lBorder:"index__lBorder--2ClWV",rBorder:"index__rBorder--3Sx6H"}}});